{"version":3,"sources":["../../src/model/MongooseCrudModel.js"],"names":["MongooseCrudModel","Model","page","size","filter","projection","sort","search","graphFind","count","graphFindOne","payload","save","instance","saved","findOneAndUpdate","new","findOneAndDelete","lean"],"mappings":";;;;;;;;;;;;IAAMA,iB;AAEJ,6BAAYC,KAAZ,EAAmB;AAAA;;AACjB,SAAKA,KAAL,GAAaA,KAAb;AACD;;;;;;YAEcC,I,QAAAA,I;YAAMC,I,QAAAA,I;YAAMC,M,QAAAA,M;YAAQC,U,QAAAA,U;YAAYC,I,QAAAA,I;YAAMC,M,QAAAA,M;;;;;iDAC5C,KAAKN,KAAL,CAAWO,SAAX,CAAqB,EAAEN,UAAF,EAAQC,UAAR,EAAcC,cAAd,EAAsBC,sBAAtB,EAAkCC,UAAlC,EAAwCC,cAAxC,EAArB,C;;;;;;;;;;;;;;;;;;;4FAGGH,M;;;;;kDACH,KAAKH,KAAL,CAAWQ,KAAX,CAAiBL,MAAjB,C;;;;;;;;;;;;;;;;;;;4FAGIA,M,EAAQC,U;;;;;kDACZ,KAAKJ,KAAL,CAAWS,YAAX,CAAwB,EAAEN,cAAF,EAAUC,sBAAV,EAAxB,C;;;;;;;;;;;;;;;;;;;4FAGIM,O;;;;;;;uBACY,IAAI,KAAKV,KAAT,CAAeU,OAAf,EAAwBC,IAAxB,E;;;AAAjBC,wB;;uBACcA,SAASD,IAAT,E;;;AAAdE,qB;kDACCA,K;;;;;;;;;;;;;;;;;;;4FAGOV,M,EAAQO,O;;;;;;uBACT,KAAKV,KAAL,CAAWc,gBAAX,CAA4BX,MAA5B,EAAoCO,OAApC,EAA6C,EAAEK,KAAK,IAAP,EAA7C,C;;;;;;;;;;;;;;;;;;;;;;4FAGCZ,M;;;;;;uBACD,KAAKH,KAAL,CAAWgB,gBAAX,CAA4Bb,MAA5B,EAAoCc,IAApC,E;;;;;;;;;;;;;;;;;;;;;;;;kBAKFlB,iB","file":"MongooseCrudModel.js","sourcesContent":["class MongooseCrudModel {\r\n\r\n  constructor(Model) {\r\n    this.Model = Model;\r\n  }\r\n\r\n  async getAll({ page, size, filter, projection, sort, search }) {\r\n    return this.Model.graphFind({ page, size, filter, projection, sort, search });\r\n  }\r\n\r\n  async count(filter) {\r\n    return this.Model.count(filter);\r\n  }\r\n\r\n  async getOne(filter, projection) {\r\n    return this.Model.graphFindOne({ filter, projection });\r\n  }\r\n\r\n  async addOne(payload) {\r\n    const instance = await new this.Model(payload).save();\r\n    const saved = await instance.save();\r\n    return saved;\r\n  }\r\n\r\n  async updateOne(filter, payload) {\r\n    return await this.Model.findOneAndUpdate(filter, payload, { new: true });\r\n  }\r\n\r\n  async deleteOne(filter) {\r\n    return await this.Model.findOneAndDelete(filter).lean();\r\n  }\r\n\r\n}\r\n\r\nexport default MongooseCrudModel;"]}